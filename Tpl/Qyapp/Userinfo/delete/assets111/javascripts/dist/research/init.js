/*! weimob_vshop_admin
*author:<a.b.c@hd3p.com> */
define("dist/research/init",["$","dist/application/app","./questInfo","./questContent","jquery_ui","./questAnalysis","dist/charts/init"],function(a){"use strict";{var b=(a("$"),a("dist/application/app"));b.config,b.method}a("./questInfo"),a("./questContent"),a("./questAnalysis")}),define("dist/research/questInfo",["$"],function(a){"use strict";var b=a("$");b("form.form-validate").on("click","a#js_click",function(){b("div.toggleClass").toggleClass("hidden")}),b("form.form-validate").on("click","a#js_save_select",function(){{var a=b("#js_val").val();b("#js_add_select option").length}a.length>0&&b("#js_add_select").append("<option value='"+a+"'>"+a+"</option>"),b("#js_val").val(""),b("div.toggleClass").addClass("hidden")})}),define("dist/research/questContent",["$","jquery_ui"],function(a){"use strict";function b(){c(".js_change_num").length&&c(".js_change_num").each(function(a){c(this).html(a+1)})}var c=a("$");a("jquery_ui"),c(".js_custom_menu_mainList_wrap").sortable({items:".js_custom_menu_list",stop:function(){}}),c(".js_custom_menu_list").sortable({items:".cm_subname",stop:function(){}});var d={number:1,Type:1,list:["",""],listTitle:["",""]},e=0,f="";c("#js_add_question").length&&c("#js_add_question").on("click",function(){c(".js_append_div").html(""),d.Type=1,d.list=["",""],d.listTitle=["",""],c(".js_append_div").length&&c(".js_append_div").append(template("js_template",d)),c("#js_quest_textarea").val(""),c("#js_serial").val(""),c(".js_radios input:radio").filter(function(){1==c(this).data("index")?(c(this).removeAttr("disabled","disabled"),c(this).attr("checked","checked")):c(this).removeAttr("disabled","disabled")})}),c(document).on("click","#js_question_edit",function(){c(".js_append_div").html(""),f=JSON.parse(c("#js_question_info").val()),d.list=f.listData,d.listTitle=f.listTitle,d.Type=f.questType,c(".js_append_div").length&&c(".js_append_div").append(template("js_template",d)),d.Type>2&&c("#js_add").addClass("hide"),c("#js_quest_textarea").val(f.problemDes),c("#js_serial").val(f.serialNum),c("#js_hidden").val(f.pid),c(".js_radios input:radio").filter(function(){c(this).data("index")==f.questIndex?(c(this).attr("checked","checked"),c(this).addClass("active")):c(this).attr("disabled","disabled")})}),c("#js_question_modal").length&&c("#js_question_modal").on("click","input:radio",function(){c(".js_append_div").html(""),c(this).addClass("active"),c(this).parent().siblings().find("input:radio").removeClass("active");var a=c(this).data("type");d.Type=a,a>=3?c(".js_hidden").addClass("hidden"):c(".js_hidden").removeClass("hidden"),d.number=1,d.list=["",""],d.listTitle=["",""],c(".js_append_div").append(template("js_template",d))}),c("#js_question_modal").length&&c("#js_question_modal").on("click","#js_add",function(){e=c(".js_custom_menu_mainList_wrap .js_custom_menu_list").length,d.list=[""],d.listTitle=[""],d.number++,c(".js_append_div").append(template("js_template",d)),b(),c(this).closest("#js_question_modal").find("div.js_custom_menu_list").length>2&&c("#js_question_modal .js_delete").removeClass("hidden")}),c("#js_question_modal").length&&c("#js_question_modal").on("click",".js_delete",function(){c(this).closest(".js_append_div").children("div.js_custom_menu_list").length<4&&c("#js_question_modal .js_delete").addClass("hidden"),c(this).closest(".js_custom_menu_list").remove(),b()}),c(document).ready(function(){c("#js_add_question").removeAttr("disabled")})}),define("dist/research/questAnalysis",["$","dist/application/app","dist/charts/init"],function(a){"use strict";var b=(a("$"),a("dist/application/app")),c=(b.config,b.method),d=a("dist/charts/init");window.configChart&&c.postd(window.configChart.picurl,function(a){if("pic"==a.types){var b={title:{text:a.chart[0].topName,verticalAlign:"top"},subtitle:{text:"答题人数"+a.chart[0].peopleNum+"人"},plotOptions:{pie:{size:"65%",borderWidth:0,allowPointSelect:!0,dataLabels:{formatter:function(){return'<b style="font-size:12px;">'+this.point.name+"</b>: "+this.percentage.toFixed(2)+" %"}}}},tooltip:{formatter:function(){return'<b style="font-size:12px;">'+this.point.name+"</b>: "+this.percentage.toFixed(2)+" %"}}};d.pie("container",a.chart,"",b)}if("column"==a.types){var c=a.chart[0].categories,e={yAxis:{title:{text:a.chart[0].leftName}},title:{text:a.chart[0].topName,verticalAlign:"top",style:{color:"#333",fontSize:"12px",fontWeight:"bold"},y:8},subtitle:{text:"答题人数"+a.chart[0].peopleNum+"人"},plotOptions:{series:{pointWidth:40}}};d.column("js_column",c,a.chart,e)}if("column1"==a.types){var c=a.chart[0].categories,e={yAxis:{title:{text:a.chart[0].leftName}},title:{text:a.chart[0].topName,verticalAlign:"top",style:{color:"#333",fontSize:"12px",fontWeight:"bold",marginBottom:"15px"},y:8},subtitle:{text:"答题人数"+a.chart[0].peopleNum+"人"},plotOptions:{series:{pointWidth:40}}};d.column("js_column1",c,a.chart,e)}},{})});